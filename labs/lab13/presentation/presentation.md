---
## Front matter
lang: ru-RU
title: Лабораторная работа №13
subtitle: Операционные системы
author:
  - Шуваев Сергей Александрович.
institute:
  - Российский университет дружбы народов, Москва, Россия

date: 11 июля 1985 года

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Шуваев Сергей Александрович.
  * студент из группы НКАбд-05-22
  * Факультет физико-математических и естественных наук
  * Российский университет дружбы народов
  * [1032224269@pfur.ru](grinders060050@mail.ru)
  * <https://github.com/Grinders060050/Grinders060050.github.io>

:::
::: {.column width="30%"}

![](./image/shuwaew.jpg)

:::
::::::::::::::

# Цель работы

Цель данной лабораторной работы - приобрести простейшие навыки разработки, анализа, тестирования и отладки приложений в ОС типа UNIX/Linux на примере создания на языке программирования С калькулятора с простейшими функциями

# Выполнение лабораторной работы

Создаю директорию ~/work/os/lab_prog, перехожу в нее и в этой директории создаю файлы calculate.h, calculate.c, main.c 

![](image/1.png)

## Выполнение лабораторной работы

Это будет примитивнейший калькулятор, способный складывать, вычитать, умножать и делить, возводить число в степень, брать квадратный корень, вычислять sin, cos, tan. При запуске он будет запрашивать первое число, операцию, второе число. После этого программа выведет результат и остановится. Реализация функций калькулятора в файле calculate.h

![](image/2.png)

## Выполнение лабораторной работы

Интерфейсный файл calculate.h, описывающий формат вызова функции- калькулятора 

![](image/3.png)

## Выполнение лабораторной работы

Основной файл main.c, реализующий интерфейс пользователя к калькулятору

![](image/4.png)

## Выполнение лабораторной работы

Далее выполняю компиляцию программ посредством gcc (

![](image/5.png)

## Выполнение лабораторной работы 

Далее создаю Makefile с указанным в лабораторной работе содержанием

![](image/6.png)

## Выполнение лабораторной работы 

В переменную CFLAGS добавляю значение -g

![](image/7.png)

## Выполнение лабораторной работы 

Далее использую make clean, чтобы удалить не совсем верно скомпилированные файлы, и использую make 

![](image/8.png)

## Выполнение лабораторной работы 

Запусткаю отладчик GDB, загрузив в него программу для отладки

![](image/9.png)

## Выполнение лабораторной работы 

Для запуска программы внутри отладчика ввожу команду run

![](image/10.png)

## Выполнение лабораторной работы 

Для постраничного (по 9 строк) просмотра исходного кода использую команду list

![](image/11.png)

## Выполнение лабораторной работы 

Для просмотра строк с 12 по 15 основного файла использую list с параметрами 

![](image/12.png)

## Выполнение лабораторной работы 

Для просмотра определённых строк не основного файла использую list с параметрами

![](image/13.png)

## Выполнение лабораторной работы 

Устанавливаю точку остановки в файле calculate.c на строке номер 21 (break 21) 

![](image/14.png)

## Выполнение лабораторной работы 

Вывожу информацию об имеющихся в проекте точках остановки

![](image/15.png)

## Выполнение лабораторной работы 

Запускаю программу внутри отладчика и убеждаюсь, что программа останавливается в момент прохождения точки остановки:

![](image/16.png)

## Выполнение лабораторной работы 

Команда backtrace покажет весь стек вызываемых функций от начала програм- мы до текущего места 

![](image/17.png)

## Выполнение лабораторной работы 

Смотрю, чему равно на этом этапе значение переменной Numeral, это можно сделать двумя способами. При первом я получу вывод значения переменной из bash-скрипта, второй способ более интуитивный, там значение соответствует переменной из кода на Си

![](image/18.png)

## Выполнение лабораторной работы 

Удаляю точки остановки

![](image/19.png)

## Выполнение лабораторной работы 

С помощью утилиты splint пробую проанализировать код файла calculate.c.

![](image/20.png)

## Выполнение лабораторной работы 

С помощью утилиты splint пробую проанализировать код файла main.c.

![](image/21.png)

# Выводы

При выполнении данной лабораторной работы я изучил основы программирования в оболочке ОС UNIX, научился  писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.

## Спасибо за внимание

